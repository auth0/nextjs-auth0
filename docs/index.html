<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@auth0/nextjs-auth0 - v4.15.0</title><meta name="description" content="Documentation for @auth0/nextjs-auth0"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@auth0/nextjs-auth0 - v4.15.0</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@auth0/nextjs-auth0 - v4.15.0</h1></div><div class="tsd-panel tsd-typography"><p><img src="https://cdn.auth0.com/website/sdks/banners/nextjs-auth0-banner.png" alt="Auth0 Next.js SDK Banner"></p>
<p>The Auth0 Next.js SDK is a library for implementing user authentication in Next.js applications.</p>
<p><a href="https://www.npmjs.com/package/@auth0/nextjs-auth0"><img src="https://img.shields.io/npm/v/@auth0/nextjs-auth0" alt="Auth0 Next.js SDK Release"></a>
<a href="https://deepwiki.com/auth0/nextjs-auth0"><img src="https://deepwiki.com/badge.svg" alt="Ask DeepWiki"></a>
<img src="https://img.shields.io/npm/dw/@auth0/nextjs-auth0" alt="Auth0 Next.js SDK Downloads">
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/:license-mit-blue.svg?style=flat" alt="Auth0 Next.js SDK License"></a></p>
<p>ðŸ“š <a href="#documentation">Documentation</a> - ðŸš€ <a href="#getting-started">Getting Started</a> - ðŸ’» <a href="https://auth0.github.io/nextjs-auth0/">API Reference</a> - ðŸ’¬ <a href="#feedback">Feedback</a></p>
<h2 id="documentation" class="tsd-anchor-link">Documentation<a href="#documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://auth0.com/docs/quickstart/webapp/nextjs">QuickStart</a> - our guide for adding Auth0 to your Next.js app.</li>
<li><a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md">Examples</a> - lots of examples for your different use cases.</li>
<li><a href="https://github.com/auth0/nextjs-auth0/blob/main/SECURITY.md">Security</a> - Some important security notices that you should check.</li>
<li><a href="https://auth0.com/docs">Docs Site</a> - explore our docs site and learn more about Auth0.</li>
</ul>
<h2 id="getting-started" class="tsd-anchor-link">Getting Started<a href="#getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="1-install-the-sdk" class="tsd-anchor-link">1. Install the SDK<a href="#1-install-the-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">@auth0/nextjs-auth0</span>
</code><button type="button">Copy</button></pre>

<p>This library requires Node.js 20 LTS and newer LTS versions.</p>
<h3 id="2-add-the-environment-variables" class="tsd-anchor-link">2. Add the environment variables<a href="#2-add-the-environment-variables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Add the following environment variables to your <code>.env.local</code> file:</p>
<pre><code class="env">AUTH0_DOMAIN=
AUTH0_CLIENT_ID=
AUTH0_CLIENT_SECRET=
AUTH0_SECRET=
APP_BASE_URL=
</code><button type="button">Copy</button></pre>

<p>The <code>AUTH0_DOMAIN</code>, <code>AUTH0_CLIENT_ID</code>, and <code>AUTH0_CLIENT_SECRET</code> can be obtained from the <a href="https://manage.auth0.com">Auth0 Dashboard</a> once you've created an application. <strong>This application must be a <code>Regular Web Application</code></strong>.</p>
<p>The <code>AUTH0_SECRET</code> is the key used to encrypt the session and transaction cookies. You can generate a secret using <code>openssl</code>:</p>
<pre><code class="shell"><span class="hl-0">openssl</span><span class="hl-1"> </span><span class="hl-2">rand</span><span class="hl-1"> </span><span class="hl-3">-hex</span><span class="hl-1"> </span><span class="hl-4">32</span>
</code><button type="button">Copy</button></pre>

<p>The <code>APP_BASE_URL</code> is the URL that your application is running on. When developing locally, this is most commonly <code>http://localhost:3000</code>.</p>
<div class="tsd-alert tsd-alert-important"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertImportant"></use></svg><span>Important</span></div><p><br>
You will need to register the following URLs in your Auth0 Application via the <a href="https://manage.auth0.com">Auth0 Dashboard</a>:</p>
<ul>
<li>Add <code>http://localhost:3000/auth/callback</code> to the list of <strong>Allowed Callback URLs</strong></li>
<li>Add <code>http://localhost:3000</code> to the list of <strong>Allowed Logout URLs</strong></li>
</ul>
</div>
<h3 id="3-create-the-auth0-sdk-client" class="tsd-anchor-link">3. Create the Auth0 SDK client<a href="#3-create-the-auth0-sdk-client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create an instance of the Auth0 client. This instance will be imported and used in anywhere you need access to the authentication methods on the server.</p>
<p>Add the following contents to a file named <code>lib/auth0.ts</code>:</p>
<pre><code class="ts"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Auth0Client</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@auth0/nextjs-auth0/server&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">auth0</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Auth0Client</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<div class="tsd-alert tsd-alert-note"><div class="tsd-alert-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertNote"></use></svg><span>Note</span></div><p>
The Auth0Client automatically uses safe defaults to manage authentication cookies. For advanced use cases, you can customize transaction cookie behavior by providing your own configuration. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#transaction-cookie-configuration">Transaction Cookie Configuration</a> for details.</p>
</div>
<h3 id="4-add-the-authentication-middleware" class="tsd-anchor-link">4. Add the authentication middleware<a href="#4-add-the-authentication-middleware" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Authentication requests in Next.js are intercepted at the network boundary using a middleware or proxy file.<br>
Follow the setup below depending on your Next.js version.</p>
<h4 id="ðŸŸ¦-on-nextjs-15" class="tsd-anchor-link">ðŸŸ¦ On Next.js 15<a href="#ðŸŸ¦-on-nextjs-15" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Create a <code>middleware.ts</code> file in the root of your project:</p>
<pre><code class="ts"><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-5">type</span><span class="hl-1"> { </span><span class="hl-6">NextRequest</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;next/server&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">auth0</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;./lib/auth0&quot;</span><span class="hl-1">; </span><span class="hl-8">// Adjust path if your auth0 client is elsewhere</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">middleware</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-9">NextRequest</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">auth0</span><span class="hl-1">.</span><span class="hl-0">middleware</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-6">matcher:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-8">/*</span><br/><span class="hl-8">     * Match all request paths except for:</span><br/><span class="hl-8">     * - _next/static (static files)</span><br/><span class="hl-8">     * - _next/image (image optimization files)</span><br/><span class="hl-8">     * - favicon.ico, sitemap.xml, robots.txt (metadata files)</span><br/><span class="hl-8">     */</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;/((?!_next/static|_next/image|favicon.ico|sitemap.xml|robots.txt).*)&quot;</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<div class="tsd-alert tsd-alert-note"><div class="tsd-alert-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertNote"></use></svg><span>Note</span></div><p><br>
If you're using a <code>src/</code> directory, the <code>middleware.ts</code> file must be created inside the <code>src/</code> directory.</p>
</div>
<h4 id="ðŸŸ¨-on-nextjs-16" class="tsd-anchor-link">ðŸŸ¨ On Next.js 16<a href="#ðŸŸ¨-on-nextjs-16" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Next.js 16 introduces a new convention called proxy.ts, replacing middleware.ts.
This change better represents the network interception boundary and unifies request handling
for both the Edge and Node runtimes.</p>
<p>Create a proxy.ts file in the root of your project (Or rename your existing middleware.ts to proxy.ts):</p>
<pre><code class="ts"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">auth0</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;./lib/auth0&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">proxy</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">: </span><span class="hl-9">Request</span><span class="hl-1">) { </span><span class="hl-8">// Note that proxy uses the standard Request type</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">auth0</span><span class="hl-1">.</span><span class="hl-0">middleware</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-6">matcher:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;/((?!_next/static|_next/image|favicon.ico|sitemap.xml|robots.txt).*)&quot;</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<div class="tsd-alert tsd-alert-important"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertImportant"></use></svg><span>Important</span></div><p><br>
Starting with <strong>Next.js 16</strong>, the recommended file for handling authentication boundaries is <strong><code>proxy.ts</code></strong>. You can still continue using <strong><code>middleware.ts</code></strong> for backward compatibility, it will work under the <strong>Edge runtime</strong> in Next.js 16. However, it is <strong>deprecated</strong> for the Node runtime and will be removed in a future release.</p>
<p>The new proxy layer also executes slightly earlier in the routing pipeline, so make sure your matcher patterns do not conflict with other proxy or middleware routes.</p>
<p>Additionally, the Edge runtime now applies stricter header and cookie validation,<br>
so avoid setting non-string cookie values or invalid header formats.</p>
</div>
<div class="tsd-alert tsd-alert-important"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertImportant"></use></svg><span>Important</span></div><p>
This broad middleware matcher is essential for rolling sessions and security features. For scenarios when rolling sessions are disabled, see <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#session-configuration">Session Configuration</a> for alternative approaches.</p>
</div>
<p>You can now begin to authenticate your users by redirecting them to your application's <code>/auth/login</code> route:</p>
<pre><code class="tsx"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">auth0</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;./lib/auth0&quot;</span><span class="hl-1">; </span><span class="hl-8">// Adjust path if your auth0 client is elsewhere</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-5">default</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">Home</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">session</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">auth0</span><span class="hl-1">.</span><span class="hl-0">getSession</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-6">session</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> (</span><br/><span class="hl-1">      </span><span class="hl-10">&lt;</span><span class="hl-11">main</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">a</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-2">&quot;/auth/login?screen_hint=signup&quot;</span><span class="hl-10">&gt;</span><span class="hl-1">Sign up</span><span class="hl-10">&lt;/</span><span class="hl-11">a</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">a</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-2">&quot;/auth/login&quot;</span><span class="hl-10">&gt;</span><span class="hl-1">Log in</span><span class="hl-10">&lt;/</span><span class="hl-11">a</span><span class="hl-10">&gt;</span><br/><span class="hl-1">      </span><span class="hl-10">&lt;/</span><span class="hl-11">main</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">main</span><span class="hl-10">&gt;</span><br/><span class="hl-1">      </span><span class="hl-10">&lt;</span><span class="hl-11">h1</span><span class="hl-10">&gt;</span><span class="hl-1">Welcome, </span><span class="hl-3">{</span><span class="hl-6">session</span><span class="hl-13">.</span><span class="hl-6">user</span><span class="hl-13">.</span><span class="hl-6">name</span><span class="hl-3">}</span><span class="hl-1">!</span><span class="hl-10">&lt;/</span><span class="hl-11">h1</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">main</span><span class="hl-10">&gt;</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<div class="tsd-alert tsd-alert-important"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertImportant"></use></svg><span>Important</span></div><p><br>
You must use <code>&lt;a&gt;</code> tags instead of the <code>&lt;Link&gt;</code> component to ensure that the routing is not done client-side as that may result in some unexpected behavior.</p>
</div>
<h2 id="customizing-the-client" class="tsd-anchor-link">Customizing the client<a href="#customizing-the-client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can customize the client by using the options below:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>domain</td>
<td><code>string</code></td>
<td>The Auth0 domain for the tenant (e.g.: <code>example.us.auth0.com</code> or <code>https://example.us.auth0.com</code>). If it's not specified, it will be loaded from the <code>AUTH0_DOMAIN</code> environment variable.</td>
</tr>
<tr>
<td>clientId</td>
<td><code>string</code></td>
<td>The Auth0 client ID. If it's not specified, it will be loaded from the <code>AUTH0_CLIENT_ID</code> environment variable.</td>
</tr>
<tr>
<td>clientSecret</td>
<td><code>string</code></td>
<td>The Auth0 client secret. If it's not specified, it will be loaded from the <code>AUTH0_CLIENT_SECRET</code> environment variable.</td>
</tr>
<tr>
<td>authorizationParameters</td>
<td><code>AuthorizationParameters</code></td>
<td>The authorization parameters to pass to the <code>/authorize</code> endpoint. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#passing-authorization-parameters">Passing authorization parameters</a> for more details.</td>
</tr>
<tr>
<td>clientAssertionSigningKey</td>
<td><code>string</code> or <code>CryptoKey</code></td>
<td>Private key for use with <code>private_key_jwt</code> clients. This can also be specified via the <code>AUTH0_CLIENT_ASSERTION_SIGNING_KEY</code> environment variable.</td>
</tr>
<tr>
<td>clientAssertionSigningAlg</td>
<td><code>string</code></td>
<td>The algorithm used to sign the client assertion JWT. This can also be provided via the <code>AUTH0_CLIENT_ASSERTION_SIGNING_ALG</code> environment variable.</td>
</tr>
<tr>
<td>appBaseUrl</td>
<td><code>string</code></td>
<td>The URL of your application (e.g.: <code>http://localhost:3000</code>). If it's not specified, it will be loaded from the <code>APP_BASE_URL</code> environment variable.</td>
</tr>
<tr>
<td>logoutStrategy</td>
<td><code>&quot;auto&quot; | &quot;oidc&quot; | &quot;v2&quot;</code></td>
<td>Strategy for logout endpoint selection. <code>&quot;auto&quot;</code> (default) uses OIDC logout when available, falls back to <code>/v2/logout</code>. <code>&quot;oidc&quot;</code> always uses OIDC logout. <code>&quot;v2&quot;</code> always uses <code>/v2/logout</code> endpoint which supports wildcard URLs. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#configuring-logout-strategy">Configuring logout strategy</a> for details.</td>
</tr>
<tr>
<td>includeIdTokenHintInOIDCLogoutUrl</td>
<td><code>boolean</code></td>
<td>Configure whether to include <code>id_token_hint</code> in OIDC logout URLs for privacy. Defaults to <code>true</code> (recommended). When <code>false</code>, excludes PII from logout URLs but reduces DoS protection. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#oidc-logout-privacy-configuration">OIDC logout privacy configuration</a> for details.</td>
</tr>
<tr>
<td>secret</td>
<td><code>string</code></td>
<td>A 32-byte, hex-encoded secret used for encrypting cookies. If it's not specified, it will be loaded from the <code>AUTH0_SECRET</code> environment variable.</td>
</tr>
<tr>
<td>signInReturnToPath</td>
<td><code>string</code></td>
<td>The path to redirect the user to after successfully authenticating. Defaults to <code>/</code>.</td>
</tr>
<tr>
<td>session</td>
<td><code>SessionConfiguration</code></td>
<td>Configure the session timeouts and whether to use rolling sessions or not. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#session-configuration">Session configuration</a> for additional details. Also allows configuration of cookie attributes like <code>domain</code>, <code>path</code>, <code>secure</code>, <code>sameSite</code>, and <code>transient</code>. If not specified, these can be configured using <code>AUTH0_COOKIE_*</code> environment variables. Note: <code>httpOnly</code> is always <code>true</code>. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#cookie-configuration">Cookie Configuration</a> for details.</td>
</tr>
<tr>
<td>enableParallelTransactions</td>
<td><code>boolean</code></td>
<td>Enable support for multiple concurrent authentication flows by using unique transaction cookies per flow. When <code>true</code> (default), each authentication attempt gets its own transaction cookie with a unique state suffix. When <code>false</code>, uses a single shared transaction cookie, which may cause conflicts with concurrent auth attempts. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#transaction-cookie-configuration">Transaction Cookie Configuration</a> for details.</td>
</tr>
<tr>
<td>transactionCookie</td>
<td><code>TransactionCookieOptions</code></td>
<td>Configure transaction cookie management for authentication flows. You can control cookie expiration and other cookie options. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#transaction-cookie-configuration">Transaction Cookie Configuration</a> for details.</td>
</tr>
<tr>
<td>beforeSessionSaved</td>
<td><code>BeforeSessionSavedHook</code></td>
<td>A method to manipulate the session before persisting it. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#beforesessionsaved">beforeSessionSaved</a> for additional details.</td>
</tr>
<tr>
<td>onCallback</td>
<td><code>OnCallbackHook</code></td>
<td>A method to handle errors or manage redirects after attempting to authenticate. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#oncallback">onCallback</a> for additional details.</td>
</tr>
<tr>
<td>sessionStore</td>
<td><code>SessionStore</code></td>
<td>A custom session store implementation used to persist sessions to a data store. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#database-sessions">Database sessions</a> for additional details.</td>
</tr>
<tr>
<td>pushedAuthorizationRequests</td>
<td><code>boolean</code></td>
<td>Configure the SDK to use the Pushed Authorization Requests (PAR) protocol when communicating with the authorization server.</td>
</tr>
<tr>
<td>routes</td>
<td><code>Routes</code></td>
<td>Configure the paths for the authentication routes. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#custom-routes">Custom routes</a> for additional details.</td>
</tr>
<tr>
<td>allowInsecureRequests</td>
<td><code>boolean</code></td>
<td>Allow insecure requests to be made to the authorization server. This can be useful when testing with a mock OIDC provider that does not support TLS, locally. This option can only be used when <code>NODE_ENV</code> is not set to <code>production</code>.</td>
</tr>
<tr>
<td>httpTimeout</td>
<td><code>number</code></td>
<td>Integer value for the HTTP timeout in milliseconds for authentication requests. Defaults to <code>5000</code> milliseconds</td>
</tr>
<tr>
<td>enableTelemetry</td>
<td><code>boolean</code></td>
<td>Boolean value to opt-out of sending the library name and version to your authorization server via the <code>Auth0-Client</code> header. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td>useDPoP</td>
<td><code>boolean</code></td>
<td>Enable DPoP (Demonstration of Proof-of-Possession) for enhanced security. When enabled, the client will generate DPoP proofs for token requests and protected resource requests. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td>dpopKeyPair</td>
<td><code>DpopKeyPair</code></td>
<td>ES256 key pair for DPoP proof generation. If not provided, the SDK will attempt to load keys from <code>AUTH0_DPOP_PUBLIC_KEY</code> and <code>AUTH0_DPOP_PRIVATE_KEY</code> environment variables. Keys must be in PEM format.</td>
</tr>
<tr>
<td>dpopOptions</td>
<td><code>DpopOptions</code></td>
<td>Configure DPoP timing validation. Supports <code>clockSkew</code> (adjust assumed current time) and <code>clockTolerance</code> (validation tolerance). Can also be configured via <code>AUTH0_DPOP_CLOCK_SKEW</code> and <code>AUTH0_DPOP_CLOCK_TOLERANCE</code> environment variables. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#dpop-clock-validation">DPoP Clock Validation</a> for details.</td>
</tr>
</tbody>
</table>
<h3 id="customizing-auth-handlers" class="tsd-anchor-link">Customizing Auth Handlers<a href="#customizing-auth-handlers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>While the authentication routes are handled automatically by the middleware, you can still customize the authentication flow through two main approaches:</p>
<ul>
<li><strong>Run custom code before auth handlers</strong>: Intercept auth routes in your middleware to add custom logic before authentication actions</li>
<li><strong>Run code after authentication</strong>: Use the <code>onCallback</code> hook to add custom logic after authentication completes</li>
</ul>
<p>Additional customization options include:</p>
<ul>
<li>Login parameters via query parameters or static configuration</li>
<li>Session data modification using the <code>beforeSessionSaved</code> hook</li>
<li>Logout redirects using query parameters</li>
</ul>
<div class="tsd-alert tsd-alert-important"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertImportant"></use></svg><span>Important</span></div><p>
When customizing auth handlers, always validate user inputs (especially redirect URLs) to prevent security vulnerabilities like open redirects. Use relative URLs when possible and implement proper input sanitization.</p>
</div>
<p><strong>Quick Start</strong>: For detailed examples and step-by-step migration patterns from v3, see <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#customizing-auth-handlers">Customizing Auth Handlers</a>.</p>
<h2 id="session-cookie-configuration" class="tsd-anchor-link">Session Cookie Configuration<a href="#session-cookie-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can specify the following environment variables to configure the session cookie:</p>
<pre><code class="env">AUTH0_COOKIE_DOMAIN=
AUTH0_COOKIE_PATH=
AUTH0_COOKIE_TRANSIENT=
AUTH0_COOKIE_SECURE=
AUTH0_COOKIE_SAME_SITE=
AUTH0_DPOP_PUBLIC_KEY=
AUTH0_DPOP_PRIVATE_KEY=
AUTH0_DPOP_CLOCK_SKEW=
AUTH0_DPOP_CLOCK_TOLERANCE=
</code><button type="button">Copy</button></pre>

<h3 id="dpop-configuration" class="tsd-anchor-link">DPoP Configuration<a href="#dpop-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The Auth0 Next.js SDK supports <strong>DPoP (Demonstrating Proof-of-Possession)</strong> for enhanced OAuth 2.0 security. DPoP binds access tokens to cryptographic key pairs, preventing token theft and replay attacks.</p>
<h4 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><strong>Option 1: Environment Variables</strong></p>
<pre><code class="env"># Enable DPoP and provide ES256 key pair
AUTH0_DPOP_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----
MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE...
-----END PUBLIC KEY-----"
AUTH0_DPOP_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
MIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQ...
-----END PRIVATE KEY-----"
</code><button type="button">Copy</button></pre>

<pre><code class="ts"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Auth0Client</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@auth0/nextjs-auth0/server&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">auth0</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Auth0Client</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">useDPoP:</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">  </span><span class="hl-8">// Keys loaded automatically from environment variables</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Option 2: Programmatic Configuration</strong></p>
<pre><code class="ts"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Auth0Client</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@auth0/nextjs-auth0/server&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">generateKeyPair</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;oauth4webapi&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">dpopKeyPair</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateKeyPair</span><span class="hl-1">(</span><span class="hl-2">&quot;ES256&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">auth0</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Auth0Client</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">useDPoP:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">dpopKeyPair</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">dpopOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">clockTolerance:</span><span class="hl-1"> </span><span class="hl-4">30</span><span class="hl-1">,  </span><span class="hl-8">// Allow 30s clock difference</span><br/><span class="hl-1">    </span><span class="hl-6">retry:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">delay:</span><span class="hl-1"> </span><span class="hl-4">100</span><span class="hl-1">,        </span><span class="hl-8">// 100ms retry delay</span><br/><span class="hl-1">      </span><span class="hl-6">jitter:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">       </span><span class="hl-8">// Add randomness</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="making-dpop-protected-requests" class="tsd-anchor-link">Making DPoP-Protected Requests<a href="#making-dpop-protected-requests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-8">// Create a fetcher - DPoP inherited from global configuration</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">fetcher</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">auth0</span><span class="hl-1">.</span><span class="hl-0">createFetcher</span><span class="hl-1">(</span><span class="hl-6">req</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">baseUrl:</span><span class="hl-1"> </span><span class="hl-2">&quot;https://api.example.com&quot;</span><br/><span class="hl-1">  </span><span class="hl-8">// useDPoP is inherited from Auth0Client config</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-8">// Make authenticated requests with automatic DPoP proof generation</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">fetcher</span><span class="hl-1">.</span><span class="hl-0">fetchWithAuth</span><span class="hl-1">(</span><span class="hl-2">&quot;/protected-resource&quot;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">method:</span><span class="hl-1"> </span><span class="hl-2">&quot;POST&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">headers:</span><span class="hl-1"> { </span><span class="hl-2">&quot;Content-Type&quot;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-2">&quot;application/json&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-6">body:</span><span class="hl-1"> </span><span class="hl-7">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">({ </span><span class="hl-6">data:</span><span class="hl-1"> </span><span class="hl-2">&quot;example&quot;</span><span class="hl-1"> })</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>DPoP Inheritance Behavior</strong></p>
<p>Fetchers created with <code>createFetcher</code> automatically inherit the global DPoP configuration from your <code>Auth0Client</code> instance.</p>
<p>This inheritance pattern follows the same behavior as auth0-spa-js, providing consistent developer experience across Auth0 SDKs.</p>
<p>For complete DPoP documentation, examples, and best practices, see <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#dpop-demonstrating-proof-of-possession">DPoP Examples</a>.</p>
<h4 id="advanced-clock-validation-configuration" class="tsd-anchor-link">Advanced: Clock Validation Configuration<a href="#advanced-clock-validation-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Configure timing validation for DPoP proofs to handle clock differences between client and server:</p>
<pre><code class="ts"><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">auth0</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Auth0Client</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">useDPoP:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">dpopKeyPair:</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateKeyPair</span><span class="hl-1">(</span><span class="hl-2">&quot;ES256&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-6">dpopOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">clockSkew:</span><span class="hl-1"> </span><span class="hl-4">120</span><span class="hl-1">,      </span><span class="hl-8">// Adjust for local clock being 2 minutes behind</span><br/><span class="hl-1">    </span><span class="hl-6">clockTolerance:</span><span class="hl-1"> </span><span class="hl-4">45</span><span class="hl-1">   </span><span class="hl-8">// Allow 45 seconds tolerance for validation</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Or configure via environment variables:</p>
<pre><code class="env">AUTH0_DPOP_CLOCK_SKEW=300        # Clock adjustment in seconds
AUTH0_DPOP_CLOCK_TOLERANCE=90    # Tolerance in seconds
</code><button type="button">Copy</button></pre>

<p>Respective counterparts are also available in the client configuration. See <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#cookie-configuration">Cookie Configuration</a> for more details.</p>
<h3 id="proxy-handler-for-my-account-and-my-organization-apis" class="tsd-anchor-link">Proxy Handler for My Account and My Organization APIs<a href="#proxy-handler-for-my-account-and-my-organization-apis" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The SDK provides built-in proxy support for Auth0's My Account and My Organization Management APIs, enabling secure browser-initiated requests while maintaining server-side DPoP authentication and token management.</p>
<h4 id="how-it-works" class="tsd-anchor-link">How It Works<a href="#how-it-works" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The proxy handler automatically intercepts requests to <code>/me/*</code> and <code>/my-org/*</code> paths in your Next.js application and forwards them to the respective Auth0 APIs with proper authentication headers. This implements a Backend-for-Frontend (BFF) pattern where:</p>
<ul>
<li>Tokens and DPoP keys remain on the server</li>
<li>Access tokens are automatically retrieved or refreshed</li>
<li>DPoP proofs are generated for each request</li>
<li>Session updates occur transparently</li>
</ul>
<h4 id="configuration" class="tsd-anchor-link">Configuration<a href="#configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Configure audience and scopes for the APIs:</p>
<pre><code class="ts"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Auth0Client</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@auth0/nextjs-auth0/server&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">auth0</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Auth0Client</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">useDPoP:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">authorizationParameters:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">audience:</span><span class="hl-1"> </span><span class="hl-2">&quot;urn:your-api-identifier&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">scope:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">[</span><span class="hl-2">`https://</span><span class="hl-3">${</span><span class="hl-6">process</span><span class="hl-13">.</span><span class="hl-6">env</span><span class="hl-13">.</span><span class="hl-7">AUTH0_DOMAIN</span><span class="hl-3">}</span><span class="hl-2">/me/`</span><span class="hl-6">]:</span><span class="hl-1"> </span><span class="hl-2">&quot;profile:read profile:write&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">[</span><span class="hl-2">`https://</span><span class="hl-3">${</span><span class="hl-6">process</span><span class="hl-13">.</span><span class="hl-6">env</span><span class="hl-13">.</span><span class="hl-7">AUTH0_DOMAIN</span><span class="hl-3">}</span><span class="hl-2">/my-org/`</span><span class="hl-6">]:</span><span class="hl-1"> </span><span class="hl-2">&quot;org:read org:write&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="client-side-usage" class="tsd-anchor-link">Client-Side Usage<a href="#client-side-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Make requests through the proxy paths:</p>
<pre><code class="tsx"><span class="hl-8">// My Account API</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">fetch</span><span class="hl-1">(</span><span class="hl-2">&quot;/me/v1/profile&quot;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">headers:</span><span class="hl-1"> { </span><span class="hl-2">&quot;scope&quot;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-2">&quot;profile:read&quot;</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-8">// My Organization API</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">fetch</span><span class="hl-1">(</span><span class="hl-2">&quot;/my-org/organizations&quot;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">headers:</span><span class="hl-1"> { </span><span class="hl-2">&quot;scope&quot;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-2">&quot;org:read&quot;</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>The <code>scope</code> header specifies the required scope. The SDK retrieves an access token with the appropriate audience and scope, then forwards the request with authentication headers.</p>
<p>For complete documentation, examples, and integration patterns with UI Components, see <a href="https://github.com/auth0/nextjs-auth0/blob/main/EXAMPLES.md#proxy-handler-for-my-account-and-my-organization-apis">Proxy Handler for My Account and My Organization APIs</a>.</p>
<h2 id="base-path" class="tsd-anchor-link">Base Path<a href="#base-path" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Your Next.js application may be configured to use a base path (e.g.: <code>/dashboard</code>) â€” this is usually done by setting the <code>basePath</code> option in the <code>next.config.js</code> file. To configure the SDK to use the base path, you will also need to set the <code>NEXT_PUBLIC_BASE_PATH</code> environment variable which will be used when mounting the authentication routes.</p>
<p>For example, if the <code>NEXT_PUBLIC_BASE_PATH</code> environment variable is set to <code>/dashboard</code>, the SDK will mount the authentication routes on <code>/dashboard/auth/login</code>, <code>/dashboard/auth/callback</code>, <code>/dashboard/auth/profile</code>, etc.</p>
<div class="tsd-alert tsd-alert-note"><div class="tsd-alert-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertNote"></use></svg><span>Note</span></div><p>
We do not recommend using the <code>NEXT_PUBLIC_BASE_PATH</code> environment variable in conjunction with a <code>APP_BASE_URL</code> that contains a path component. If your application is configured to use a base path, you should set the <code>APP_BASE_URL</code> to the root URL of your application (e.g.: <code>https://example.com</code>) and use the <code>NEXT_PUBLIC_BASE_PATH</code> environment variable to specify the base path (e.g.: <code>/dashboard</code>).</p>
</div>
<h2 id="configuration-validation" class="tsd-anchor-link">Configuration Validation<a href="#configuration-validation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The SDK performs validation of required configuration options when initializing the <code>Auth0Client</code>. The following options are mandatory and must be provided either through constructor options or environment variables:</p>
<ul>
<li><code>domain</code> (or <code>AUTH0_DOMAIN</code> environment variable)</li>
<li><code>clientId</code> (or <code>AUTH0_CLIENT_ID</code> environment variable)</li>
<li><code>appBaseUrl</code> (or <code>APP_BASE_URL</code> environment variable)</li>
<li><code>secret</code> (or <code>AUTH0_SECRET</code> environment variable)</li>
<li>Either:
<ul>
<li><code>clientSecret</code> (or <code>AUTH0_CLIENT_SECRET</code> environment variable), OR</li>
<li><code>clientAssertionSigningKey</code> (or <code>AUTH0_CLIENT_ASSERTION_SIGNING_KEY</code> environment variable)</li>
</ul>
</li>
</ul>
<p>If any of these required options are missing, the SDK will issue a warning with a detailed message explaining which options are missing and how to provide them.</p>
<h2 id="routes" class="tsd-anchor-link">Routes<a href="#routes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The SDK mounts 6 routes:</p>
<ol>
<li><code>/auth/login</code>: the login route that the user will be redirected to to initiate an authentication transaction</li>
<li><code>/auth/logout</code>: the logout route that must be added to your Auth0 application's Allowed Logout URLs</li>
<li><code>/auth/callback</code>: the callback route that must be added to your Auth0 application's Allowed Callback URLs</li>
<li><code>/auth/profile</code>: the route to check the user's session and return their attributes</li>
<li><code>/auth/access-token</code>: the route to check the user's session and return an access token (which will be automatically refreshed if a refresh token is available)</li>
<li><code>/auth/backchannel-logout</code>: the route that will receive a <code>logout_token</code> when a configured Back-Channel Logout initiator occurs</li>
</ol>
<div class="tsd-alert tsd-alert-note"><div class="tsd-alert-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertNote"></use></svg><span>Note</span></div><p><br>
The <code>/auth/access-token</code> response includes <code>token</code>, <code>expires_at</code> (seconds since epoch), <code>expires_in</code> (TTL seconds), optional <code>scope</code>, and optional <code>token_type</code>. If you're using the client helper <code>getAccessToken()</code>, it returns only the token string by default; pass <code>{ includeFullResponse: true }</code> to get the full response payload.</p>
</div>
<div class="tsd-alert tsd-alert-important"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertImportant"></use></svg><span>Important</span></div><p><br>
The <code>/auth/access-token</code> route is enabled by default, but is only necessary when the access token is needed on the client-side. If this isn't something you need, you can disable this endpoint by setting <code>enableAccessTokenEndpoint</code> to <code>false</code>.</p>
</div>
<h2 id="feedback" class="tsd-anchor-link">Feedback<a href="#feedback" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>We appreciate feedback and contribution to this repo! Before you get started, please read the following:</p>
<ul>
<li><a href="https://github.com/auth0/open-source-template/blob/master/GENERAL-CONTRIBUTING.md">Auth0's general contribution guidelines</a></li>
<li><a href="https://github.com/auth0/nextjs-auth0/blob/main/CODE-OF-CONDUCT.md">Auth0's code of conduct guidelines</a></li>
<li><a href="media/CONTRIBUTING.md">This repo's contribution guide</a></li>
</ul>
<h3 id="raise-an-issue" class="tsd-anchor-link">Raise an issue<a href="#raise-an-issue" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To provide feedback or report a bug, please <a href="https://github.com/auth0/nextjs-auth0/issues">raise an issue on our issue tracker</a>.</p>
<h2 id="vulnerability-reporting" class="tsd-anchor-link">Vulnerability Reporting<a href="#vulnerability-reporting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Please do not report security vulnerabilities on the public GitHub issue tracker. The <a href="https://auth0.com/responsible-disclosure-policy">Responsible Disclosure Program</a> details the procedure for disclosing security issues.</p>
<h2 id="what-is-auth0" class="tsd-anchor-link">What is Auth0?<a href="#what-is-auth0" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p align="center">
  <picture>
    <source media="(prefers-color-scheme: dark)" srcset="https://cdn.auth0.com/website/sdks/logos/auth0_dark_mode.png" width="150">
    <source media="(prefers-color-scheme: light)" srcset="https://cdn.auth0.com/website/sdks/logos/auth0_light_mode.png" width="150">
    <img alt="Auth0 Logo" src="https://cdn.auth0.com/website/sdks/logos/auth0_light_mode.png" width="150">
  </picture>
</p>
<p align="center">
  Auth0 is an easy to implement, adaptable authentication and authorization platform. To learn more checkout <a href="https://auth0.com/why-auth0">Why Auth0?</a>
</p>
<p align="center">
  This project is licensed under the MIT license. See the <a href="https://github.com/auth0/nextjs-auth0/blob/main/LICENSE"> LICENSE</a> file for more info.
</p></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#documentation"><span>Documentation</span></a><a href="#getting-started"><span>Getting <wbr/>Started</span></a><ul><li><a href="#1-install-the-sdk"><span>1. <wbr/>Install the <wbr/>SDK</span></a></li><li><a href="#2-add-the-environment-variables"><span>2. <wbr/>Add the environment variables</span></a></li><li><a href="#3-create-the-auth0-sdk-client"><span>3. <wbr/>Create the <wbr/>Auth0 <wbr/>SDK client</span></a></li><li><a href="#4-add-the-authentication-middleware"><span>4. <wbr/>Add the authentication middleware</span></a></li><li><ul><li><a href="#ðŸŸ¦-on-nextjs-15"><span>ðŸŸ¦ <wbr/>On <wbr/>Next.js 15</span></a></li><li><a href="#ðŸŸ¨-on-nextjs-16"><span>ðŸŸ¨ <wbr/>On <wbr/>Next.js 16</span></a></li></ul></li></ul><a href="#customizing-the-client"><span>Customizing the client</span></a><ul><li><a href="#customizing-auth-handlers"><span>Customizing <wbr/>Auth <wbr/>Handlers</span></a></li></ul><a href="#session-cookie-configuration"><span>Session <wbr/>Cookie <wbr/>Configuration</span></a><ul><li><a href="#dpop-configuration"><span>D<wbr/>Po<wbr/>P <wbr/>Configuration</span></a></li><li><ul><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#making-dpop-protected-requests"><span>Making <wbr/>D<wbr/>Po<wbr/>P-<wbr/>Protected <wbr/>Requests</span></a></li><li><a href="#advanced-clock-validation-configuration"><span>Advanced: <wbr/>Clock <wbr/>Validation <wbr/>Configuration</span></a></li></ul></li><li><a href="#proxy-handler-for-my-account-and-my-organization-apis"><span>Proxy <wbr/>Handler for <wbr/>My <wbr/>Account and <wbr/>My <wbr/>Organization <wbr/>AP<wbr/>Is</span></a></li><li><ul><li><a href="#how-it-works"><span>How <wbr/>It <wbr/>Works</span></a></li><li><a href="#configuration"><span>Configuration</span></a></li><li><a href="#client-side-usage"><span>Client-<wbr/>Side <wbr/>Usage</span></a></li></ul></li></ul><a href="#base-path"><span>Base <wbr/>Path</span></a><a href="#configuration-validation"><span>Configuration <wbr/>Validation</span></a><a href="#routes"><span>Routes</span></a><a href="#feedback"><span>Feedback</span></a><ul><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#raise-an-issue"><span>Raise an issue</span></a></li></ul><a href="#vulnerability-reporting"><span>Vulnerability <wbr/>Reporting</span></a><a href="#what-is-auth0"><span>What is <wbr/>Auth0?</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@auth0/nextjs-auth0 - v4.15.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
